"use client";
import React, { useState } from "react";
import Title from "../labels/title";
import Material from "../buttons/material";
import HttpRequest from "./http-request";
import SocketRequest from "./socket-request";
import ConvertRequest from "./convert-request";

type cas = {
  id: number;
  name: string;
  component: React.ReactNode;
};

const modules: cas[] = [
  {
    id: 1,
    name: "Http Request",
    component: <HttpRequest />,
  },
  {
    id: 2,
    name: "Socket Request",
    component: <SocketRequest />,
  },
  {
    id: 3,
    name: "Convert",
    component: <ConvertRequest/>,
  },
];

const QueryPage: React.FC = () => {
  const [mode, setMode] = useState<cas>(modules[0]);

  const HttpRequestIcon = (
    <Material
      className={`rounded-l-[24px] transition-opacity ${
        mode == modules[0] ? "opacity-100" : "opacity-50"
      }`}
      onClick={() => {
        setMode(modules[0]);
      }}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
        fill="none"
      >
        <path
          d="M12.924 10.8C12.996 10.206 13.05 9.612 13.05 9C13.05 8.388 12.996 7.794 12.924 7.2H15.966C16.11 7.776 16.2 8.379 16.2 9C16.2 9.621 16.11 10.224 15.966 10.8M11.331 15.804C11.871 14.805 12.285 13.725 12.573 12.6H15.228C14.364 14.085 12.987 15.237 11.331 15.804ZM11.106 10.8H6.894C6.804 10.206 6.75 9.612 6.75 9C6.75 8.388 6.804 7.785 6.894 7.2H11.106C11.187 7.785 11.25 8.388 11.25 9C11.25 9.612 11.187 10.206 11.106 10.8ZM9 16.164C8.253 15.084 7.65 13.887 7.281 12.6H10.719C10.35 13.887 9.747 15.084 9 16.164ZM5.4 5.4H2.772C3.627 3.906 5.013 2.754 6.66 2.196C6.12 3.195 5.715 4.275 5.4 5.4ZM2.772 12.6H5.4C5.715 13.725 6.12 14.805 6.66 15.804C5.013 15.237 3.627 14.085 2.772 12.6ZM2.034 10.8C1.89 10.224 1.8 9.621 1.8 9C1.8 8.379 1.89 7.776 2.034 7.2H5.076C5.004 7.794 4.95 8.388 4.95 9C4.95 9.612 5.004 10.206 5.076 10.8M9 1.827C9.747 2.907 10.35 4.113 10.719 5.4H7.281C7.65 4.113 8.253 2.907 9 1.827ZM15.228 5.4H12.573C12.285 4.275 11.871 3.195 11.331 2.196C12.987 2.763 14.364 3.906 15.228 5.4ZM9 0C4.023 0 0 4.05 0 9C0 11.3869 0.948211 13.6761 2.63604 15.364C3.47177 16.1997 4.46392 16.8626 5.55585 17.3149C6.64778 17.7672 7.8181 18 9 18C11.3869 18 13.6761 17.0518 15.364 15.364C17.0518 13.6761 18 11.3869 18 9C18 7.8181 17.7672 6.64778 17.3149 5.55585C16.8626 4.46392 16.1997 3.47177 15.364 2.63604C14.5282 1.80031 13.5361 1.13738 12.4442 0.685084C11.3522 0.232792 10.1819 0 9 0Z"
          fill="black"
        />
      </svg>
    </Material>
  );
  const historyIcon = (
    <Material
      className={`rounded-r-[24px] transition-opacity ${
        mode === modules[1] ? "opacity-100" : "opacity-50"
      }`}
      onClick={() => {
        setMode(modules[1]);
      }}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 18 18"
        fill="none"
      >
        <path
          d="M16.9811 5.23944C17.6604 5.91549 17.6604 7.01408 16.9811 7.60563L14.6038 9.97183L7.98113 3.38028L10.3585 1.01408C11.0377 0.338028 12.1415 0.338028 12.7358 1.01408L14.2642 2.53521L16.8113 0L18 1.1831L15.4528 3.71831L16.9811 5.23944ZM12.0566 10.1408L10.8679 8.95775L8.49057 11.3239L6.70755 9.5493L9.08491 7.1831L7.89623 6L5.51887 8.3662L4.24528 7.1831L1.86792 9.5493C1.18868 10.2254 1.18868 11.3239 1.86792 11.9155L3.39623 13.4366L0 16.8169L1.18868 18L4.58491 14.6197L6.11321 16.1408C6.79245 16.8169 7.89623 16.8169 8.49057 16.1408L10.8679 13.7746L9.67925 12.5915L12.0566 10.1408Z"
          fill="black"
        />
      </svg>
    </Material>
  );
  const historIcon = (
    <Material
      className={`transition-opacity ${
        mode === modules[2] ? "opacity-100" : "opacity-50"
      }`}
      onClick={() => {
        setMode(modules[2]);
      }}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="18"
        viewBox="0 0 24 18"
        fill="none"
      >
        <path
          d="M5 0H7V2H5V7C5 7.53043 4.78929 8.03914 4.41421 8.41421C4.03914 8.78929 3.53043 9 3 9C3.53043 9 4.03914 9.21071 4.41421 9.58579C4.78929 9.96086 5 10.4696 5 11V16H7V18H5C3.93 17.73 3 17.1 3 16V12C3 11.4696 2.78929 10.9609 2.41421 10.5858C2.03914 10.2107 1.53043 10 1 10H0V8H1C1.53043 8 2.03914 7.78929 2.41421 7.41421C2.78929 7.03914 3 6.53043 3 6V2C3 1.46957 3.21071 0.960859 3.58579 0.585786C3.96086 0.210714 4.46957 0 5 0ZM19 0C19.5304 0 20.0391 0.210714 20.4142 0.585786C20.7893 0.960859 21 1.46957 21 2V6C21 6.53043 21.2107 7.03914 21.5858 7.41421C21.9609 7.78929 22.4696 8 23 8H24V10H23C22.4696 10 21.9609 10.2107 21.5858 10.5858C21.2107 10.9609 21 11.4696 21 12V16C21 16.5304 20.7893 17.0391 20.4142 17.4142C20.0391 17.7893 19.5304 18 19 18H17V16H19V11C19 10.4696 19.2107 9.96086 19.5858 9.58579C19.9609 9.21071 20.4696 9 21 9C20.4696 9 19.9609 8.78929 19.5858 8.41421C19.2107 8.03914 19 7.53043 19 7V2H17V0H19ZM12 12C12.2652 12 12.5196 12.1054 12.7071 12.2929C12.8946 12.4804 13 12.7348 13 13C13 13.2652 12.8946 13.5196 12.7071 13.7071C12.5196 13.8946 12.2652 14 12 14C11.7348 14 11.4804 13.8946 11.2929 13.7071C11.1054 13.5196 11 13.2652 11 13C11 12.7348 11.1054 12.4804 11.2929 12.2929C11.4804 12.1054 11.7348 12 12 12ZM8 12C8.26522 12 8.51957 12.1054 8.70711 12.2929C8.89464 12.4804 9 12.7348 9 13C9 13.2652 8.89464 13.5196 8.70711 13.7071C8.51957 13.8946 8.26522 14 8 14C7.73478 14 7.48043 13.8946 7.29289 13.7071C7.10536 13.5196 7 13.2652 7 13C7 12.7348 7.10536 12.4804 7.29289 12.2929C7.48043 12.1054 7.73478 12 8 12ZM16 12C16.2652 12 16.5196 12.1054 16.7071 12.2929C16.8946 12.4804 17 12.7348 17 13C17 13.2652 16.8946 13.5196 16.7071 13.7071C16.5196 13.8946 16.2652 14 16 14C15.7348 14 15.4804 13.8946 15.2929 13.7071C15.1054 13.5196 15 13.2652 15 13C15 12.7348 15.1054 12.4804 15.2929 12.2929C15.4804 12.1054 15.7348 12 16 12Z"
          fill="black"
        />
      </svg>
    </Material>
  );

  return (
    <div className="flex flex-col flex-grow p-4">
      <div className="flex mb-[16px]">
        {HttpRequestIcon}
        {historIcon}
        {historyIcon}
        <Title className="ml-2" text={mode.name} />
      </div>
      {mode.component}
    </div>
  );
};

export default QueryPage;
